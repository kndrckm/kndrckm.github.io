<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Home | KEND.DESIGN.STUDIO</title>
    <meta name="description" content="A Home Residential Project - KEND.DESIGN.STUDIO">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Pannellum 360 Viewer -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        primary: '#1D1D1F',
                        secondary: '#6E6E73',
                        accent: '#007AFF', // Azure blue-ish
                        'azure-light': '#F5F7FA',
                    },
                    boxShadow: {
                        'soft-xl': '0 20px 40px -10px rgba(0,0,0,0.05)',
                        'floating': '0 30px 60px -15px rgba(0,0,0,0.1)',
                        'ios-deep': '0 30px 60px -12px rgba(0,0,0,0.4)',
                    },
                    keyframes: {
                        'wiggle-vertical': {
                            '0%, 100%': { transform: 'translateY(-50%)' },
                            '25%': { transform: 'translateY(calc(-50% - 5px))' },
                            '75%': { transform: 'translateY(calc(-50% + 5px))' },
                        }
                    },
                    animation: {
                        'wiggle-scroll': 'wiggle-vertical 0.5s ease-in-out',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #F2F4F8;
            margin: 0;
            color: #1D1D1F;
            overflow-x: hidden;
        }

        .reveal-text {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .reveal-text.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        .reveal-text.revealed-no-anim {
            transition: none !important;
            opacity: 1;
            transform: translateY(0);
        }

        .nav-glass {
            background: rgba(255, 255, 255, 0.70);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1.5px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
        }

        .hide-scroll::-webkit-scrollbar {
            display: none;
        }

        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* 2. Universal Site Container (From Index.html) */
        .site-container {
            margin-left: auto;
            margin-right: auto;
            width: 88%;
            max-width: 100%;
            padding: 0;
            box-sizing: border-box;
        }

        @media (min-width: 810px) {
            .site-container {
                width: 90%;
                max-width: none;
            }
        }

        @media (min-width: 1600px) {
            .site-container {
                max-width: 1800px;
                width: 85%;
            }
        }

        /* Nav Override */
        .nav-fixed {
            position: fixed;
            top: 24px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            width: fit-content;
        }

        /* FOOTER ANIMATION FIX */
        @keyframes mesh-float {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .vision-mesh-animated {
            background: linear-gradient(-45deg, #1D1D1F, #2D1B4D, #161617, #001A33);
            background-size: 400% 400%;
            animation: mesh-float 15s ease infinite;
        }

        /* HERO POP ANIMATION */
        @keyframes pop-in {
            0% {
                opacity: 0;
                transform: scale(0.96) translateY(20px);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .animate-pop {
            animation: pop-in 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
            /* Hidden init */
        }
    </style>
</head>

<body class="font-sans antialiased selection:bg-accent selection:text-white">

    <!-- MODULAR NAV -->
    <div id="layout-nav"></div>

    <!-- HERO SECTION (Existing Width: 96% - Kept as requested) -->
    <!-- HERO SECTION (Existing Width: 96% - Kept as requested) -->
    <div
        class="animate-pop relative w-[96%] mx-auto mt-4 h-[85vh] md:h-[92vh] rounded-[2.5rem] overflow-hidden shadow-floating group">

        <!-- Day/Night Switcher Button (VERTICAL RIGHT with Sliding Knob) -->
        <!-- Switch Removed -->

        <!-- Images -->
        <img id="hero-day" src="assets/projects/ahome_2.webp"
            class="absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out z-10 select-none">


        <div
            class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent z-20 pointer-events-none">
        </div>

        <!-- INTERACTIVE DOOR BUTTON (Center Building) -->
        <!-- INTERACTIVE DOOR BUTTON (Center Building) -->
        <!-- INTERACTIVE DOOR BUTTON (Center Building) -->
        <!-- Invisible Hotspot over the wooden door -->
        <a href="#gallery" id="door-hotspot" class="absolute top-[54%] left-[53%] w-[6%] h-[20%] z-30 cursor-none">
        </a>

        <!-- BIG TITLE OVERLAY -->
        <!-- Logic: Hero is 96%, Content is 90% (desktop). Difference is 6%, split side is 3%. 
             So applying padding-left: 3% relative to hero width brings it alignment to site-container.
             Better yet: Use a container inside this absolute div that matches site metrics. -->
        <div class="absolute bottom-32 md:bottom-40 w-full z-30 pointer-events-none">
            <!-- Alignment Wrapper: Calculated to match .site-container width relative to the 96% Hero parent -->
            <!-- Mobile: 88/96 = 91.66% | Desktop: 90/96 = 93.75% | Large: 85/96 = 88.54% -->
            <div class="w-[91.66%] md:w-[93.75%] 2xl:w-[88.54%] max-w-[1800px] mx-auto">
                <h1 class="text-[10vw] md:text-[6.5vw] font-black text-white tracking-tighter leading-none reveal-text">
                    A <span class="text-white/80">Home</span>
                </h1>
            </div>
        </div>
    </div>

    <!-- OVERLAPPING INFO CARD (Replaced w-[90%] with site-container) -->
    <!-- OVERLAPPING INFO CARD (Right Aligned Single Card) -->
    <section class="relative z-40 -mt-24 mb-32 reveal-text site-container pointer-events-none">
        <div class="flex justify-end">
            <!-- The Card (Pointer events auto to allow interaction if needed) -->
            <div class="w-full md:w-[480px] bg-white rounded-[2.5rem] p-8 md:p-10 shadow-floating pointer-events-auto">

                <!-- Header Icon & Title -->
                <div class="flex items-start justify-between mb-6">
                    <div>
                        <h3 class="text-2xl font-black text-primary tracking-tight mb-1">Generational Wellbeing</h3>
                        <p class="text-xs font-bold text-accent uppercase tracking-widest">Modern Tropical</p>
                    </div>
                    <div class="bg-accent/10 p-3 rounded-2xl text-accent">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                        </svg>
                    </div>
                </div>

                <!-- Specs Grid -->
                <div class="grid grid-cols-2 gap-4 mb-8 border-b border-black/5 pb-8">
                    <div>
                        <span class="block text-[10px] text-secondary uppercase font-bold mb-1">Area Size</span>
                        <span class="block text-primary font-bold">130 sqm</span>
                    </div>
                    <div>
                        <span class="block text-[10px] text-secondary uppercase font-bold mb-1">Year</span>
                        <span class="block text-primary font-bold">2024</span>
                    </div>
                </div>

                <!-- Description -->
                <div class="space-y-4">
                    <p class="text-secondary text-sm leading-relaxed">
                        Designed to accommodate the project owner's elderly mother, this home prioritizes accessibility
                        on the first floor while maintaining a seamless flow.
                    </p>
                    <p class="text-secondary text-sm leading-relaxed">
                        The architecture invites natural windflow and sunlight to fill the interiors, anchored by a koi
                        pond at the intersection of spaces and lush pot greeneries—creating a sanctuary for the
                        wellbeing of the owner and their mother.
                    </p>
                </div>

            </div>
        </div>
    </section>

    <!-- GALLERY GRID (Replaced width with site-container) -->
    <!-- GALLERY GRID (Replaced with 360 Panorama) -->
    <section id="gallery" class="site-container mb-40 reveal-text">
        <div class="relative w-full h-[500px] md:h-[700px] rounded-[2.5rem] overflow-hidden shadow-2xl group">
            <div id="panorama" class="w-full h-full"></div>

            <!-- Custom Overlay / Badge -->
            <div class="absolute top-6 left-6 z-10 pointer-events-none">
                <span
                    class="px-3 py-1 bg-white/90 backdrop-blur-md rounded-full text-xs font-black uppercase tracking-widest text-primary shadow-sm">
                    360° Virtual Tour
                </span>
            </div>

            <!-- Instructions -->
            <!-- Custom Control Bar (Glassmorphism) -->
            <div
                class="absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <div
                    class="flex items-center gap-1 p-1.5 bg-black/30 backdrop-blur-xl border border-white/10 rounded-full shadow-2xl">
                    <button onclick="window.viewer.setHfov(window.viewer.getHfov() - 10)"
                        class="p-2.5 hover:bg-white/20 rounded-full text-white transition-all hover:scale-105 active:scale-95"
                        aria-label="Zoom In">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14" />
                            <path d="M12 5v14" />
                        </svg>
                    </button>
                    <button onclick="window.viewer.setHfov(window.viewer.getHfov() + 10)"
                        class="p-2.5 hover:bg-white/20 rounded-full text-white transition-all hover:scale-105 active:scale-95"
                        aria-label="Zoom Out">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14" />
                        </svg>
                    </button>

                    <div class="w-px h-4 bg-white/20 mx-1"></div>

                    <button onclick="window.viewer.toggleFullscreen()"
                        class="p-2.5 hover:bg-white/20 rounded-full text-white transition-all hover:scale-105 active:scale-95"
                        aria-label="Fullscreen">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M8 3H5a2 2 0 0 0-2 2v3" />
                            <path d="M21 8V5a2 2 0 0 0-2-2h-3" />
                            <path d="M3 16v3a2 2 0 0 0 2 2h3" />
                            <path d="M16 21h3a2 2 0 0 0 2-2v-3" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- NEXT PROJECT (Replaced width with site-container) -->


    <!-- CUSTOM CURSOR ELEMENT -->
    <div id="door-cursor"
        class="fixed hidden pointer-events-none z-[9999] text-white bg-black/20 backdrop-blur-md p-3 rounded-full border border-white/50 shadow-2xl transform -translate-x-1/2 -translate-y-1/2 transition-transform duration-75">
        <i data-lucide="door-open" class="w-6 h-6"></i>
    </div>

    <!-- MODULAR FOOTER -->
    <div id="layout-footer"></div>

    <!-- SCRIPTS -->
    <script src="layout.js"></script>
    <script>
        initLayout(false);

        function toggleHero(mode) {
            const dayImg = document.getElementById('hero-day');
            const nightImg = document.getElementById('hero-night');

            const knob = document.getElementById('hero-knob');
            const iconDay = document.getElementById('hero-icon-day');
            const iconNight = document.getElementById('hero-icon-night');

            if (mode === 'night') {
                nightImg.style.opacity = '1';
                // Move Knob Down (4rem approx to bottom)
                knob.style.transform = 'translateY(4rem)';

                iconDay.classList.remove('text-primary');
                iconDay.classList.add('text-white/50');

                iconNight.classList.remove('text-white/50');
                iconNight.classList.add('text-primary');

            } else {
                nightImg.style.opacity = '0';
                knob.style.transform = 'translateY(0)';

                iconDay.classList.remove('text-white/50');
                iconDay.classList.add('text-primary');

                iconNight.classList.remove('text-primary');
                iconNight.classList.add('text-white/50');
            }
        }

        let galleryLightsOn = true;
        // Function toggleGalleryLights removed (Gallery replaced by Panorama)

        // Custom Door Cursor Logic
        const doorHotspot = document.getElementById('door-hotspot');
        const doorCursor = document.getElementById('door-cursor');

        if (doorHotspot && doorCursor) {
            doorHotspot.addEventListener('mouseenter', () => {
                doorCursor.classList.remove('hidden');
                doorCursor.classList.add('flex');
            });

            doorHotspot.addEventListener('mouseleave', () => {
                doorCursor.classList.add('hidden');
                doorCursor.classList.remove('flex');
            });

            doorHotspot.addEventListener('mousemove', (e) => {
                doorCursor.style.left = `${e.clientX}px`;
                doorCursor.style.top = `${e.clientY}px`;
            });
        }

        let isWiggling = false;
        window.addEventListener('scroll', () => {
            if (!isWiggling) {
                const btnContainer = document.getElementById('hero-switch-container');
                if (btnContainer) {
                    isWiggling = true;
                    btnContainer.classList.add('animate-wiggle-scroll');
                    setTimeout(() => {
                        btnContainer.classList.remove('animate-wiggle-scroll');
                        isWiggling = false;
                    }, 500);
                }
            }
        });

        window.addEventListener('load', () => {
            const observer = new IntersectionObserver((entries, obs) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                        obs.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal-text').forEach(el => observer.observe(el));

            // Initialize Pannellum
            // Initialize Pannellum (Custom UI)
            window.viewer = pannellum.viewer('panorama', {
                "type": "equirectangular",
                "panorama": "assets/projects/ahome_pano.webp",
                "autoLoad": true,
                "compass": true,
                "hfov": 100,
                "showControls": false
            });
        });
    </script>
</body>

</html>